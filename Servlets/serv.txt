package com.john;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.RequestDispatcher;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class AddServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int i = Integer.parseInt(req.getParameter("num1"));
		int j = Integer.parseInt(req.getParameter("num2"));
		int k = i+j;
		k = k*k;
        req.setAttribute("k", k);
//		request dispatcher 54:23
		RequestDispatcher rd = req.getRequestDispatcher("sq");
		try{
			rd.forward(req, res);
		}catch(Exception e){
			e.printStackTrace();
		}
	
	}
}

--
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://xmlns.jcp.org/xml/ns/javaee"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
	id="WebApp_ID" version="4.0" metadata-complete="true">
	<servlet>
		<servlet-name>abc</servlet-name>
		<servlet-class>com.john.AddServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>pqr</servlet-name>
		<servlet-class>com.john.sqServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>abc</servlet-name>
		<url-pattern>/add</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>pqr</servlet-name>
		<url-pattern>/sq</url-pattern>
	</servlet-mapping>
</web-app>
--
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form action="add" method="get">
	Enter first number:<input type="text" name="num1"></input>
	Enter second number:<input type="text" name="num2"></input>
	<input type="submit">
	</form>
</body>
</html>
--
package com.john;

import java.io.IOException;

import java.io.PrintWriter;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class sqServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		
		int k = (int)req.getAttribute("k");
		k = k*k;
		PrintWriter out = res.getWriter();
		out.println("Result is "+k);
	}

}

--
send Redirect URL

sq.servlet

package com.john;

import java.io.IOException;

import java.io.PrintWriter;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class sqServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		
		int k = Integer.parseInt(req.getParameter("k"));
		k = k*k;
		PrintWriter out = res.getWriter();
		out.println("Result is "+k);
	}

}


AddServlet

package com.john;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.RequestDispatcher;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class AddServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int i = Integer.parseInt(req.getParameter("num1"));
		int j = Integer.parseInt(req.getParameter("num2"));
		int k = i+j;
		//session management
	    res.sendRedirect("sq?k="+k);
	
	}
}

__________________________________________________________________________________________
**HttpSession 

package com.john;

import java.io.IOException;

import java.io.PrintWriter;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class sqServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		HttpSession session = req.getSession();
		//session.removeAttribute("k");
		int k = (int)session.getAttribute("k");
		k = k*k;
		PrintWriter out = res.getWriter();
		out.println("Result is "+k);
	}

}

package com.john;
import java.io.IOException;

import javax.servlet.http.HttpSession;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class AddServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int i = Integer.parseInt(req.getParameter("num1"));
		int j = Integer.parseInt(req.getParameter("num2"));
		int k = i+j;
		//session management
		HttpSession session = req.getSession();
		session.setAttribute("k", k);
	    res.sendRedirect("sq?k="+k);
	
	}
}


__________________________________________________________________________________________
cookies

package com.john;
import java.io.IOException;


import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class AddServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int i = Integer.parseInt(req.getParameter("num1"));
		int j = Integer.parseInt(req.getParameter("num2"));
		int k = i+j;
		
		Cookie cookie = new Cookie("k", k+"");
		res.addCookie(cookie);
	    res.sendRedirect("sq?k="+k);
	
	}
}

package com.john;

import java.io.IOException;

import java.io.PrintWriter;

import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class sqServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int k =0;
		
		Cookie cookies[]=req.getCookies();
		for(Cookie c: cookies) {
			if(c.getName().equals("k")) {
				k= Integer.parseInt(c.getValue());
			}
		}
		k = k*k;
		PrintWriter out = res.getWriter();
		out.println("Result is "+k);
	}

}

__________________________________________________________________________________________
servletConfig & servlet Context

package com.john;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class MyServlet extends HttpServlet{
	protected void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException{
		PrintWriter out = response.getWriter();
		out.print("Hi ");
		ServletContext ctx = getServletContext();
		String str = ctx.getInitParameter("Phone");
		out.print(str);
		
	}

}

-
package com.john;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class MyServlet extends HttpServlet{
	protected void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException{
		PrintWriter out = response.getWriter();
		out.print("Hi ");
		ServletConfig ctx = getServletConfig();
		String str = ctx.getInitParameter("name");
		out.print(str);
		
	}

}

-

<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://xmlns.jcp.org/xml/ns/javaee"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
	id="WebApp_ID" version="4.0" metadata-complete="true">

	<servlet>
	<servlet-name>abc</servlet-name>
	<servlet-class>com.john.MyServlet</servlet-class>
	<init-param><param-name>name</param-name>
	<param-value>Sukesh</param-value>
	</init-param>
	</servlet>
	<servlet-mapping>
	<servlet-name>abc</servlet-name>
	<url-pattern>/home</url-pattern>
	</servlet-mapping>
	<context-param>
	<param-name>name</param-name>
	<param-value>Navin</param-value>
	</context-param>
	<context-param>
	<param-name>Phone</param-name>
	<param-value>Samsung</param-value>
	</context-param>
</web-app>

__________________________________________________________________________________________
**servlet annotation configuration
package com.john;
import java.io.IOException;

import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/add")
public class AddServlet extends HttpServlet{
	public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
		int i = Integer.parseInt(req.getParameter("num1"));
		int j = Integer.parseInt(req.getParameter("num2"));
		int k = i+j;
		
		Cookie cookie = new Cookie("k", k+"");
		res.addCookie(cookie);
	    res.sendRedirect("sq?k="+k);
	
	}
}


__________________________________________________________________________________________
**why jsp?

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
   <Form method="get" action="Add.jsp">
    <input type="text" name="num1"><br>
    <input type="text" name="num2"><br>
    <input type="submit">
    
   </Form>

</body>
</html>


Add.jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body bgcolor = "cyan">
	<%
	 int i = Integer.parseInt(request.getParameter("num1"));
    int j = Integer.parseInt(request.getParameter("num2"));
    int k  =i+j;
    out.println(k);

	%>
   
</body>
</html>

__________________________________________________________________________________________
Exception handling in jsp

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isErrorPage="true"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
Error
 <%=exception.getMessage()%>
</body>
</html>


home.jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" errorPage="Error.jsp" %>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
 <%int k = 9/0; %>
</body>
</html>
__________________________________________________________________________________________
**Jdbc in jsp


import packages

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="java.sql.*" %>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Student Details</title>
</head>
<body>
    Hello world
    <%
        String url = "jdbc:mysql://localhost:3306/first"; // Use the correct port and database name
        String username = "root";
        String password = "rootsql";
        String sql = "SELECT * FROM student";
        Connection con = null;
        Statement st = null;
        ResultSet rs = null;
        System.out.println("connecting....");
        
        try {
            // Load MySQL JDBC driver
            Class.forName("com.mysql.cj.jdbc.Driver");

            
            // Establish connection
            con = DriverManager.getConnection(url, username, password);
            System.out.println("Connection established");

            // Create a statement
            st = con.createStatement();
            
            // Execute the query
            rs = st.executeQuery(sql);
            System.out.println(rs);
            
            if (rs.next()) {
    %>
                Rollno: <%= rs.getInt(1) %> <br/>
                Name: <%= rs.getString(2) %> <br/>
    <%
            } else {
                out.println("No data found for the given ID.");
            }
        } catch (Exception e) {
             e.printStackTrace();
            out.println("Error: Something is wrong\n" + e.getMessage());
        } finally {
            // Close resources
            try { if (rs != null) rs.close(); } catch (SQLException e) { e.printStackTrace(); }
            try { if (st != null) st.close(); } catch (SQLException e) { e.printStackTrace(); }
            try { if (con != null) con.close(); } catch (SQLException e) { e.printStackTrace(); }
        }
    %>
</body>
</html>


The `java.lang.ClassNotFoundException: com.mysql.jdbc.Driver` error indicates that the MySQL JDBC driver is not found in your application's classpath. Here are the steps you can follow to resolve this issue:

### Steps to Fix ClassNotFoundException:

1. **Ensure Correct Driver Version**:
   - As mentioned earlier, if you're using MySQL Connector/J version 8.0 or above, the driver class name is `com.mysql.cj.jdbc.Driver`. If you're using an older version (before 8.0), the class name is `com.mysql.jdbc.Driver`.

2. **Download the JDBC Driver**:
   - If you haven't already, download the MySQL Connector/J JAR file from the [MySQL website](https://dev.mysql.com/downloads/connector/j/).

3. **Add the JAR to Your Project**:
   - In Eclipse:
     1. Right-click your project in the Package Explorer.
     2. Go to `Build Path` > `Configure Build Path`.
     3. Click on the `Libraries` tab.
     4. Click on `Add External JARs...` and select the downloaded MySQL Connector JAR file.
     5. Click `Apply and Close`.

4. **Deployment in Tomcat**:
   - Ensure that the JAR is also available in your Tomcat server's `lib` directory if you want it to be available to all applications. This directory is usually located at `TOMCAT_HOME/lib`.

5. **Restart Tomcat**:
   - After adding the JAR file, make sure to restart your Tomcat server to ensure it picks up the changes.

6. **Check Your Code**:
   - Verify that your code correctly references the driver class name. Update your code to:

     ```java
     Class.forName("com.mysql.cj.jdbc.Driver");
     ```

### Example Code
Here's a minimal setup for connecting to MySQL:

```java
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ page import="java.sql.*" %>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Database Connection</title>
</head>
<body>
Hello world
<%
    String url = "jdbc:mysql://localhost:3305/first";
    String username = "root";
    String password = "rootsql";
    Connection con = null;
    Statement st = null;
    ResultSet rs = null;

    try {
        Class.forName("com.mysql.cj.jdbc.Driver");
        con = DriverManager.getConnection(url, username, password);
        st = con.createStatement();
        rs = st.executeQuery("SELECT * FROM student WHERE id=1");
        
        if (rs.next()) {
%>
            Rollno: <%= rs.getString(1) %> <br/>
            Name: <%= rs.getString(2) %> <br/>
<%
        } else {
            out.println("No data found for the given ID.");
        }
    } catch (Exception e) {
        out.println("Error: " + e.getMessage());
    } finally {
        try { if (rs != null) rs.close(); } catch (SQLException e) { e.printStackTrace(); }
        try { if (st != null) st.close(); } catch (SQLException e) { e.printStackTrace(); }
        try { if (con != null) con.close(); } catch (SQLException e) { e.printStackTrace(); }
    }
%>
</body>
</html>
```

After following these steps, try running your application again. If you continue to encounter issues, let me know!
__________________________________________________________________________________________
**jstl jsp standard tag library

